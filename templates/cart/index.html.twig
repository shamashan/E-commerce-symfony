{% extends 'base.html.twig' %}

{% block title %}Hello CartController!
{% endblock %}

{% block body %}
	<div class="container">
		<h1>Cart</h1>
		<div class="row">

			<table class="table align-middle">
				{% if not items is empty %}
					<tr>
						<th>photo</th>
						<th>Product</th>
						<th>Price</th>
						<th>Quantity</th>
						<th>Total</th>
						<th>Action</th>
					</tr>
					{% for item in items %}
						<tr class=""></tr>
						<td><img src={{ asset("uploads/images/"~item.product.image)}} class="" alt=" " alt=" ..." width=" 100" height=" 100"></td>
						<td>{{item.product.name}}</td>
						<td class="fw-bold">{{item.product.price}}$</td>
						<td>{{item.quantity}}</td>
						<td class="fw-bold">{{item.product.price * item.quantity }}$</td>

						<td>
							<a href="{{ path('app_cart_item_delete', { id: item.product.id }) }}" class="btn btn-danger">Remove</a>
						</td>
					</tr>

				{% endfor %}
			{% else %}
				<p colspan="6">You have no items in cart</p>

			{% endif %}
		</table>
		{% if total > 0 %}
			<h2>Total:
				{{total}}$</h2>
			<div class="row">
				<a href="" class="btn btn-dark mb-3" data-turbo="false">Validate Cart</a>
				<a href="{{ path('app_cart_delete') }}" class="btn btn-outline-danger">Delete Cart</a>
			</div>
		{% else %}
			<h2>Total: 0$</h2>
		{% endif %}
	</div>

</div>{% endblock %}
